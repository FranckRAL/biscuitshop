{% if categories %}
    <form method="get" class="mb-4">
        <label for="category" class="block text-sm font-medium text-gray-700 mb-2">Filter by Category:</label>
        <select id="category" name="category" class="w-full sm:w-64 border border-gray-300 rounded-md px-3 py-2 text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
            <option value="">All Categories</option>
            {% for category in categories %}
                <option value="{{ category.id }}">{{ category.name }}</option>
            {% endfor %}
        </select>
    </form>
    <script type='text/javascript'>
        $('#category').on('change', function() {
            var selectedCategory = $(this).val();
            window.location.href = selectedCategory ? '?category=' + selectedCategory : window.location.pathname;
        });
        {% if current_category %}
        $('#category').val('{{ current_category }}');
        {% endif %}
    </script>
{% else %}
    <p class="text-gray-600 text-sm">No categories available.</p>
{% endif %}